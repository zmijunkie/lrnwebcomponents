!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("lit"),require("@lrnwebcomponents/responsive-utility/responsive-utility.js"),require("@lrnwebcomponents/utils/utils.js")):"function"==typeof define&&define.amd?define(["exports","lit","@lrnwebcomponents/responsive-utility/responsive-utility.js","@lrnwebcomponents/utils/utils.js"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).GridPlate={},t.lit)}(this,(function(t,e){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function s(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=r(t);if(e){var i=r(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return s(this,n)}}function d(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=d(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},c.apply(this,arguments)}function h(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var p,y,m,v=a((function t(){o(this,t),this.resizeTimer=null,this.layouts={1:{columnLayout:"1: full width",xs:["100%"],sm:["100%"],md:["100%"],lg:["100%"],xl:["100%"]},"1-1":{columnLayout:"2: equal width",xs:["100%","100%"],sm:["50%","50%"],md:["50%","50%"],lg:["50%","50%"],xl:["50%","50%"]},"2-1":{columnLayout:"2: wide & narrow",xs:["100%","100%"],sm:["50%","50%"],md:["66.6666667%","33.3333337%"],lg:["66.6666667%","33.3333337%"],xl:["66.6666667%","33.3333337%"]},"1-2":{columnLayout:"2: narrow & wide",xs:["100%","100%"],sm:["50%","50%"],md:["33.3333333%","66.6666667%"],lg:["33.3333333%","66.6666667%"],xl:["33.3333333%","66.6666667%"]},"3-1":{columnLayout:"2: wider & narrower",xs:["100%","100%"],sm:["50%","50%"],md:["75%","25%"],lg:["75%","25%"],xl:["75%","25%"]},"1-3":{columnLayout:"2: narrower & wider",xs:["100%","100%"],sm:["50%","50%"],md:["25%","75%"],lg:["25%","75%"],xl:["25%","75%"]},"1-1-1":{columnLayout:"3: equal width",xs:["100%","100%","100%"],sm:["100%","100%","100%"],md:["33.3333333%","33.3333333%","33.3333333%"],lg:["33.3333333%","33.3333333%","33.3333333%"],xl:["33.3333333%","33.3333333%","33.3333333%"]},"2-1-1":{columnLayout:"3: wide, narrow, and narrow",xs:["100%","100%","100%"],sm:["100%","50%","50%"],md:["50%","25%","25%"],lg:["50%","25%","25%"],xl:["50%","25%","25%"]},"1-2-1":{columnLayout:"3: narrow, wide, and narrow",xs:["100%","100%","100%"],sm:["100%","100%","100%"],md:["25%","50%","25%"],lg:["25%","50%","25%"],xl:["25%","50%","25%"]},"1-1-2":{columnLayout:"3: narrow, narrow, and wide",xs:["100%","100%","100%"],sm:["50%","50%","100%"],md:["25%","25%","50%"],lg:["25%","25%","50%"],xl:["25%","25%","50%"]},"1-1-1-1":{columnLayout:"4: equal width",xs:["100%","100%","100%","100%"],sm:["50%","50%","50%","50%"],md:["25%","25%","25%","25%"],lg:["25%","25%","25%","25%"],xl:["25%","25%","25%","25%"]},"1-1-1-1-1":{columnLayout:"5: equal width",xs:["100%","100%","100%","100%","100%"],sm:["50%","50%","50%","50%","50%"],md:["20%","20%","20%","20%","20%"],lg:["20%","20%","20%","20%","20%"],xl:["20%","20%","20%","20%","20%"]},"1-1-1-1-1-1":{columnLayout:"6: equal width",xs:["100%","100%","100%","100%","100%","100%"],sm:["50%","50%","50%","50%","50%","50%"],md:["33.3333333%","33.3333333%","33.3333333%","33.3333333%","33.3333333%","33.3333333%"],lg:["16.6666667%","16.6666667%","16.6666667%","16.6666667%","16.6666667%","16.6666667%"],xl:["16.6666667%","16.6666667%","16.6666667%","16.6666667%","16.6666667%","16.6666667%"]}},this.options={};for(var e=Object.keys(this.layouts),n=1;n<e.length;n++)this.options[e[n]]=this.layouts[e[n]].columnLayout})),f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(s,t);var i=u(s);function s(){var t;return o(this,s),(t=i.call(this)).ready=!1,t.breakpointSm=900,t.breakpointMd=1200,t.breakpointLg=1500,t.breakpointXl=1800,t.columns=6,t.disableResponsive=!1,t.layout="1-1",t.layouts=(new v).layouts,t.responsiveSize="xs",window.ResponsiveUtility.requestAvailability(),t}return a(s,[{key:"render",value:function(){var t=this;return e.html(p||(p=h(['\n      <div class="row">\n        ',"\n      </div>\n    "])),[1,2,3,4,5,6].map((function(n){return e.html(y||(y=h(['\n            <div\n              class="column ','"\n              id="col','"\n              data-label="column ','"\n              data-layout-slotname="col-','"\n              part="layout-container"\n              .style="','"\n              @drop="','"\n              @dragenter="','"\n              @dragleave="','"\n            >\n              <slot name="col-','"></slot>\n            </div>\n          '])),t.columns<n?"not-shown":"drag-enabled",n,n,n,t._getColumnWidth(n-1,t.__columnWidths),t._drop,t._dragEnter,t._dragleave,n)})))}},{key:"_drop",value:function(t){this.dataHaxRay&&(this.querySelectorAll(".active").forEach((function(t){t.classList.remove("active")})),this.shadowRoot.querySelectorAll(".active").forEach((function(t){t.classList.remove("active")})))}},{key:"_dragEnter",value:function(t){this.dataHaxRay&&t.target.classList.add("active")}},{key:"_dragleave",value:function(t){this.dataHaxRay&&t.target.classList.remove("active")}},{key:"firstUpdated",value:function(t){var e=this;c(r(s.prototype),"firstUpdated",this)&&c(r(s.prototype),"firstUpdated",this).call(this,t),setTimeout((function(){e.ready=!0}),100),this.resize(),window.dispatchEvent(new CustomEvent("responsive-element",{detail:{element:this,attribute:"responsive-size",relativeToParent:!1,sm:this.breakpointSm,md:this.breakpointMd,lg:this.breakpointLg,xl:this.breakpointXl}})),this.__columnWidths=this._getColumnWidths(this.responsiveSize,this.layout,this.layouts,this.disableResponsive)}},{key:"updated",value:function(t){var e=this;c(r(s.prototype),"updated",this)&&c(r(s.prototype),"updated",this).call(this,t),t.forEach((function(t,n){switch(["responsiveSize","layout","layouts","disableResponsive"].includes(n)&&(clearTimeout(e.__calcWidthLock),e.__calcWidthLock=setTimeout((function(){e.__columnWidths=e._getColumnWidths(e.responsiveSize,e.layout,e.layouts,e.disableResponsive)}),0)),n){case"__columnWidths":e.resize();break;case"disableResponsive":e.dispatchEvent(new CustomEvent("disable-responsive-changed",{detail:e[n]}))}}))}},{key:"resize",value:function(){window.dispatchEvent(new Event("resize"))}},{key:"_getColumnWidths",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sm",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1-1",o=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(o){var a=o[e],r={12:"1","8/4":"2-1","6/6":"1-1","4/8":"1-2","4/4/4":"1-1-1","3/3/3/3":"1-1-1-1"},l=!1!==i?"xl":t,s=r[e];if(void 0!==a&&void 0!==a[l])return o[e][l];if(void 0!==o[s]&&void 0!==o[s][l])return o[s][l];if("undefined"!==n(o["1-1"]))return o["1-1"][l]}}},{key:"_getColumnWidth",value:function(t,e){return void 0!==e&&void 0!==e[t]?"width:"+e[t]:"min-height: unset"}},{key:"_getColumns",value:function(t){return t.length}},{key:"haxactiveElementChanged",value:function(t,e){}}],[{key:"styles",get:function(){return[e.css(m||(m=h(['\n        :host {\n          display: block;\n          --hax-layout-container-outline-width: 1px;\n          --hax-layout-container-hover-outline-width: 1px;\n        }\n        :host .row {\n          width: 100%;\n          overflow-wrap: break-word;\n          display: flex;\n          flex-wrap: wrap;\n          justify-content: space-between;\n          align-items: stretch;\n          margin: var(--grid-plate-row-margin, 0px);\n          padding: var(--grid-plate-row-padding, 0px);\n        }\n        :host([disable-responsive]) .column {\n          overflow: hidden;\n        }\n        :host .column {\n          width: 100%;\n          flex: 0 0 auto;\n          min-height: 50px;\n        }\n        /* make sure that animation for nothing to 2 col doesn\'t jar layout */\n        :host([layout="1-1"]) #col1 {\n          width: 50%;\n        }\n        :host([layout="1-1-1"]) #col1 {\n          width: 33.33%;\n        }\n        :host([layout="1-1-1-1"]) #col1 {\n          width: 25%;\n        }\n        :host([layout="1-1-1-1-1"]) #col1 {\n          width: 20%;\n        }\n        :host([layout="1-1-1-1-1-1"]) #col1 {\n          width: 16.66%;\n        }\n        .column.not-shown {\n          min-height: unset;\n        }\n        :host .column ::slotted(*) {\n          margin: var(--grid-plate-item-margin, 15px);\n          padding: var(--grid-plate-item-padding, 15px);\n          max-width: calc(100% - 60px);\n          max-width: -webkit-fill-available;\n        }\n        :host([ready]) [data-layout-slotname] {\n          transition: var(\n            --hax-layout-container-transition,\n            0.5s width ease-in-out,\n            0.5s padding ease-in-out,\n            0.5s margin ease-in-out\n          );\n        }\n        :host([data-hax-ray]) [data-layout-slotname].not-shown {\n          display: block;\n          opacity: 0.4;\n          width: 0;\n        }\n        :host([data-hax-ray]) [data-layout-slotname].not-shown.has-nodes {\n          width: 100%;\n          transition: none;\n        }\n        :host([data-hax-ray]) .not-shown:hover {\n          opacity: 1;\n        }\n        :host([data-hax-ray]) .not-shown:hover::before {\n          content: "Hidden bylayout";\n          position: sticky;\n          display: inline-flex;\n          background-color: black;\n          color: white;\n          padding: 0px 8px;\n          font-size: 12px;\n          line-height: 16px;\n          margin: 12px 13px;\n          float: right;\n          width: 124px;\n        }\n        /** this implies hax editing state is available **/\n        :host([data-hax-ray]) ::slotted(*) {\n          border: var(\n            ---hax-body-editable-outline,\n            1px solid var(--hax-ui-disabled-color, #ddd)\n          );\n        }\n        :host([data-hax-ray]) ::slotted(*:hover) {\n          border: var(\n            --hax-body-active-outline-hover,\n            1px solid var(--hax-ui-color-faded, #444)\n          );\n        }\n        :host([data-hax-ray]) ::slotted(.hax-active) {\n          border: var(\n            --hax-body-active-outline,\n            1px solid var(--hax-ui-color-focus, #000)\n          );\n        }\n        :host([data-hax-ray]) ::slotted(.hax-active:hover) {\n          border: var(\n            --hax-body-active-drag-outline,\n            1px solid var(--hax-ui-color-accent, #009dc7)\n          );\n        }\n        :host([data-hax-ray]) [data-layout-slotname] {\n          outline: var(\n            ---hax-body-editable-outline,\n            1px solid var(--hax-ui-disabled-color, #ddd)\n          );\n          outline-style: dotted;\n          outline-offset: var(--hax-layout-container-outline-offset, 0px);\n        }\n        :host([data-hax-ray]) [data-layout-slotname]:hover {\n          outline-style: solid;\n        }\n        :host([data-hax-ray].hax-hovered) [data-layout-slotname].active {\n          outline: var(\n            --hax-body-active-drag-outline,\n            1px solid var(--hax-ui-color-accent, #009dc7)\n          );\n          outline-width: 2px;\n        }\n        :host([data-hax-ray]) ::slotted(img.active),\n        :host([data-hax-ray]) ::slotted(*.active):before {\n          background-color: var(\n            --hax-layout-slotted-active-outline-color,\n            var(--hax-layout-accent-color, #009dc7)\n          ) !important;\n          outline: var(\n            --hax-body-active-outline,\n            1px solid var(--hax-ui-color-focus, #000)\n          );\n          outline-style: dotted;\n        }\n        /* drag and drop */\n        :host .column ::slotted(*)::before {\n          content: " ";\n          width: calc(100% + 32px);\n          display: block;\n          position: relative;\n          margin: -28px -16px 12px;\n          z-index: 2;\n          height: 12px;\n          border: none !important;\n          transition: 0.2s all ease-in-out;\n        }\n        :host .column ::slotted(*.hax-hovered)::before {\n          background-color: var(--hax-body-target-background-color) !important;\n        }\n        :host .column ::slotted(img.hax-hovered) {\n          outline: var(\n            ---hax-body-editable-outline,\n            1px solid var(--hax-ui-disabled-color, #ddd)\n          );\n          border-top: 8px\n            var(--hax-contextual-action-hover-color, var(--hax-ui-color-accent));\n          margin-top: -8px;\n        }\n\n        @media screen and (min-color-index: 0) and(-webkit-min-device-pixel-ratio:0) {\n          :host([data-hax-ray]) ::slotted(*.active) {\n            background-color: var(\n              --hax-layout-slotted-active-outline-color,\n              var(--hax-layout-accent-color, #009dc7)\n            ) !important;\n            outline: var(--hax-layout-slotted-active-outline-width, 1px)\n              var(--hax-layout-slotted-active-outline-style, solid)\n              var(\n                --hax-layout-slotted-active-outline-color,\n                var(--hax-layout-accent-color, #009dc7)\n              );\n          }\n          :host .column ::slotted(*) {\n            outline: var(--hax-body-editable-outline);\n            background-color: var(--hax-body-possible-target-background-color);\n          }\n          :host .column ::slotted(*.hax-hovered) {\n            background-color: var(\n              --hax-body-target-background-color\n            ) !important;\n            outline: var(--hax-body-active-outline);\n          }\n        }\n      '])))]}},{key:"tag",get:function(){return"grid-plate"}},{key:"haxProperties",get:function(){return{type:"grid",canScale:!0,canPosition:!0,canEditSource:!0,contentEditable:void 0,gizmo:{title:"Grid layout",description:"Simple card in a cool retro design",icon:"hax:3-3-3-3",color:"grey",groups:["Layout"],handles:[],meta:{author:"ELMS:LN",owner:"The Pennsylvania State University"}},settings:{configure:[{property:"layout",title:"Column Layout",description:"Style to present these items (may change for small screens)",inputMethod:"select",options:(new v).options},{property:"disableResponsive",title:"Disable responsive",description:"Check box to force layout to stick regardless of screen breakpoins",inputMethod:"boolean"}],advanced:[{property:"breakpointSm",title:"Small Breakpoint",description:"Anything less than this number (in pixels) will render with the smallest version of this layout",inputMethod:"textfield",validationType:"number"},{property:"breakpointMd",title:"Medium Breakpoint",description:"Anything less than this number (in pixels) will render with the small version of this layout",inputMethod:"textfield",validationType:"number"},{property:"breakpointLg",title:"Large Breakpoint",description:"Anything less than this number (in pixels) will render with the medium version of this layout.",inputMethod:"textfield",validationType:"number"},{property:"breakpointXl",title:"Extra-Large Breakpoint",description:"Anything less than this number (in pixels) will render with the large version of this layout. Anything greater than or equal to this number will display with the maximum number of columns for this layout.",inputMethod:"textfield",validationType:"number"}]},saveOptions:{unsetAttributes:["ready","layouts","columns","options","responsive-width"]},demoSchema:[{tag:"grid-plate",properties:{disableResponsive:!0},content:""}]}}},{key:"properties",get:function(){return{breakpointSm:{type:Number,attribute:"breakpoint-sm"},breakpointMd:{type:Number,attribute:"breakpoint-md"},breakpointLg:{type:Number,attribute:"breakpoint-lg"},breakpointXl:{type:Number,attribute:"breakpoint-xl"},columns:{type:Number,reflect:!0},dataHaxRay:{type:String,attribute:"data-hax-ray",reflect:!0},disableResponsive:{type:Boolean,attribute:"disable-responsive"},layout:{type:String,reflect:!0},layouts:{type:Object},ready:{type:Boolean,reflect:!0},responsiveSize:{type:String,reflect:!0,attribute:"responsive-size"},__columnWidths:{type:String}}}}]),s}(e.LitElement);window.customElements.define(f.tag,f),t.GridPlate=f,Object.defineProperty(t,"__esModule",{value:!0})}));
